---
layout: template
title: I'm Liber 
text: 信仰耶稣基督，信仰团队比产品重要 （最后刷新时间： 2014-04-16 00:36）
---

[中文](liber.html) / [English](liber_en.html)

我是龚峻磊，目前就职于`岱嘉医学`。

### 标签：  
靠谱的`前端工程师`，扯蛋的`全栈工程师`。  
喜爱使用`Javascript`开发`SPA`（单页应用程序）。  
所谓的`Backbone`大牛。  
合格的`jQuery`高手。  
使用`Bootstrap`，`requirejs`。  
使用`Ruby`（仅仅因为Matz是基督徒）。  
喜爱`Sinatra`，喜爱`git`。  
一个`清教徒`。  

### 基本信息：  
全名：龚峻磊  
英文名：Liber  
生日：1987-11-01  
性别：男  
工作经验：> 3 年  
E-mail：gjl87910lq@gmail.com  
手机：136-8169-8273  
教育水平：本科，呼伦贝尔学院 & 哈尔滨师范大学，2006 - 2010，计算机科学与技术  
证书：ACM/ICPC 2008 东北区 三等奖  
英语水平：CET4  
博客：[mystist.github.com](http://mystist.github.com)  
GitHub：[github.com/Mystist](https://github.com/Mystist)  
Stackoverflow: [http://stackoverflow.com/users/1773006/liber](http://stackoverflow.com/users/1773006/liber)   

### 只言片语：  
千万人中，你独一无二。  
我们让我们的未来有意义。  
来点有意思的吧！  
注重产品与代码的艺术整体性。  
Always get things done.  
信仰耶稣基督，信仰团队比产品重要。  

### 项目：  

`1050:`（个人项目 2013-09 - 目前）  
<em>简介</em> ：  
一个网站：基督徒在线听赞美诗的平台。  
网址： [http://1050.14201420.com/dev-blog](http://1050.14201420.com/dev-blog)  
<em>职责</em> ：  
创始人，全栈工程师。  
<em>收获</em> ：  
与教会的弟兄姊妹分享喜悦。  
深入使用了`Backbone`的方方面面。  
了解了目前世界范围内`paas`的基本情况，深入使用了`openshift`。  
在真实环境中实践了`Ruby`，`sinatra`，`git`等等。  
零成本startup的最佳实践！  

<hr />

`医疗报表系统：`（岱嘉医学 前端工程师 2013-06 - 目前）  
<em>简介</em> ：  
数据可视化：为医院管理层提供的报表系统。  
第一个版本使用`BIRT`实现，第二个版本使用`OLAP`和`eCharts`。  
<em>职责</em> ：  
与项目经理沟通业务实现的可行性和实现方式。  
管理前端团队。  
搭建前端项目框架。  
实现一些重要报表的数据可视化，以表格和图形的方式体现。  
实现自定义报表的功能，用户可以连接数据源，通过拖拽度量和维度的方式实现自定义报表。  
<em>收获</em> ：  
有了一些团队管理的经验。  
理解并掌握了BI领域包括OLAP等相关理论和具体应用。  
熟练掌握了`eCharts`，`hightCharts`等的使用。  
对`JSON`数据的操作达到了炉火纯青的地步。  

<hr />

`Mini医护工作站：`（岱嘉医学 前端工程师 2012-12 - 2013-05）  
<em>简介</em> ：  
针对透析科的医生护士协同工作平台。  
功能包括：病人管理、医生护士排班、下透析医嘱、执行医嘱、查看实时透析数据图等。  
采用前后端分离的开发模式。  
<em>职责</em> ：  
配合设计人员和项目经理实现业务功能。  
配合后端人员实现数据的获取和保存。  
<em>收获</em> ：  
了解了前后端分离的开发模式。  
掌握了前端MVC的思想和应用。  
了解了如何与设计人员配合工作。  
了解了医院`HIS`系统的业务知识。  

<hr />

`时间轴插件：`（岱嘉医学 前端工程师 2012-09 - 2012-11）  
<em>简介</em> ：  
jQuery时间轴插件，管理基于日期的事件轨迹。  
<em>职责</em> ：  
从零开始，独立完成该插件。  
<em>收获</em> ：  
参考了很多时间轴的实现，对各种基于事件的时间轴插件有了基本认识。  
掌握了jQuery插件的实现方式。  
加深了对jQuery的理解，巩固了js的基础知识。  
自信和成就感。  

<hr />

`中联达物流公司PC客户端：` （南软科技 软件工程师 2012-01 - 2012-08）  
<em>简介</em> ：  
客户端包含：企业门户、客户端管理、数据对接三大模块。  
企业门户即中联达公司网站。  
客户端管理提供：在线下单、查看订单、订单定位、仓储信息查询、承运商管理、业务统计等功能。  
数据对接：客户系统导出数据，通过接口直接导入公司系统。  
<em>职责</em> ：  
配合架构师实现各模块。  
设计并实现：企业网站，客户端管理的流程以及具体业务。  
根据客户系统的文档，实现数据对接。  
<em>收获</em> ：  
学习了南软自主开发的后端语言：`cn`语言。  
学习了UI、UE范畴的知识。  
了解了第三方物流的业务知识。  

<hr />

`海吉星集团ERP系统：`（南软科技 软件工程师 2011-05 - 2011-12）  
<em>简介</em> ：  
海吉星集团是一家医药生产销售公司。  
系统主要涉及：进销存、人员管理、工作流、预算管理。  
<em>职责</em> ：  
实现客户信息管理模块，业务单打印模块。  
现场技术支持。  
<em>收获</em> ：  
学习了南软自主开发平台：子墨开发平台。  
锻炼了应对现场突发情况的心理素质和能力。  
了解了ERP系统的相关知识。  

<hr />

`爱财部落群组项目：`（邻智网络 C#程序员 2010-09 - 2011-04）  
<em>简介</em> ：  
爱财部落是一家通过网络模拟交易选拔实盘操盘手的专业网站。  
网站为注册用户提供股票、外汇、期货等品种的模拟交易服务。  
群组项目提供类似论坛的功能，为用户提供金融资讯以及信息交流的服务。  
<em>职责</em> ：  
根据群组项目的设计稿，实现功能。  
维护其它的一些项目：股票定投、排行等。  
<em>收获</em> ：  
掌握了jQuery。  
了解了`Memorycache`的一些知识。  
学会团队合作，体会到了代码可维护的重要性。  
了解了金融行业的相关知识。  

<hr />

<br />

### 成果：  

`getTreeListFromListByLevels` (2014-02)  
提示: 通过后台传过来的原始JSON数据，递归生成zTree需要的数据。  

<iframe frameborder="0" scrolling="no" src="/liber/getTree/demo.html" width="100%" height="320px;" ></iframe>

代码片段：  

```javascript

  _.each(uniqListArr, function(listItem) {

    var children = [];
    if(_.indexOf(uniqBranchArr, listItem) != -1) {
      var currentList = _.filter(branchList, function(item) {
        return item[levels[0]] === listItem;
      });
      children = this.getTreeListFromListByLevels(currentList, levels.slice(1), options);
    }
    var branchObj = {
      'name': listItem,
      'children': children,
      'open': false
    };
    treeList.push(branchObj);
    
    _.each(leafList, function(leafItem) {
      if(leafItem[levels[0]] === listItem) {
        branchObj.children.push(getObjFromItemAndOptionsAtLevels(leafItem, options, levels));
      }
    });
    
  }, this);

```

[代码下载](/liber/getTree/getTree.rar)

<hr />

`picPPT` (2013-09)  
提示：支持`iframe`的幻灯片插件。  

<iframe frameborder="0" scrolling="no" src="liber/picPPT/demo.html" width="100%" height="320px;" ></iframe>

代码片段：  

{% highlight javascript %}
    bindEvent: function() {
      var tThis = this;
      this.$imgContainers.bind("mouseover", function() {
        clearInterval(tThis.intervalId);
        var index = tThis.$imgContainers.index(this);
        if(index!=tThis.currentIndex) {
          tThis.showThisImg(index);
        }
      });
      this.$container.bind("mouseout", function() {
        tThis.automaticPlay();
      });
    }
{% endhighlight %}

[Github地址][16]  
[代码下载][17]
[16]: https://github.com/Mystist/picPPT
[17]: https://github.com/Mystist/picPPT/archive/master.zip

<hr />

`partialPrint` (2013-07)  
提示: 局部打印。  
按 `F8` 打开/关闭 插件功能。  
使用鼠标选择要打印的元素。    
点击鼠标右键，选择`打印`。  

<a href="liber/partialPrint/demo.html" target="_blank">查看Demo</a>

代码片段：  

{% highlight javascript %}
  var includeCss = function(styles, media) {
    var style = document.createElement("style");
    style.type = "text/css";
    style.media = media || "screen";
    (document.getElementsByTagName("head")[0] || document.body).appendChild(style);
    if (style.styleSheet) { // for IE
      style.styleSheet.cssText = styles;
    } else { //for w3c
      style.appendChild(document.createTextNode(styles));
    }
  };
{% endhighlight %}

[Github地址][14]  
[代码下载][15]
[14]: https://github.com/Mystist/partialPrint
[15]: https://github.com/Mystist/partialPrint/archive/master.zip

<hr />

`multiSelect` (2013-06)  
提示：让html的select元素支持多选功能。支持键盘上下选择。  

<iframe frameborder="0" scrolling="no" src="liber/multiSelect/demo.html" width="100%" height="300px;" ></iframe>

代码片段：  

{% highlight javascript %}
    $target.delegate("ul", "keyup", function(e) {
    
      e.cancelable = true;
      e.preventDefault();
    
      if(e.keyCode==38) { // up
        moveToPre($this);
      } else if(e.keyCode==40) { // down
        moveToNext($this);
      } else if(e.keyCode==13) { // enter
        $this.find("li").each(function() {
          if($(this).css("color")=="white"||$(this).css("color")=="rgb(255, 255, 255)") {
            $(this).click();
            return false;
          }
        });
      } else if(e.keyCode==27) { // esc
        $this.find(".m_outerDom").remove();
        $this.find("textarea").focus();
      }
    
    });
  
  }
{% endhighlight %}

[Github地址][12]  
[代码下载][13]
[12]: https://github.com/Mystist/multiSelect
[13]: https://github.com/Mystist/multiSelect/archive/master.zip

<hr />

`customPPT` (2013-05)  

<iframe frameborder="0" scrolling="no" src="liber/customPPT/demo.html" width="100%" height="320px;" ></iframe>

代码片段：  

{% highlight javascript %}
    automaticPlay: function() {
      var tThis = this;
      this.timer = setInterval(function() {
        tThis.moveToNext();
      }, 3000);
    },
{% endhighlight %}

[Github地址][10]  
[代码下载][11]
[10]: https://github.com/Mystist/customPPT
[11]: https://github.com/Mystist/customPPT/archive/master.zip

<hr />

`tdWider` (2013-04)  
提示：试试将鼠标移到表头`td`的右边。  

<iframe frameborder="0" scrolling="no" src="liber/tdWider/demo.html" width="100%" height="400px;" ></iframe>

代码片段：  

{% highlight javascript %}
      this.$this.find(".m_inner").draggable({
        "axis": "x",
        "start": function(e) {
          tThis.drawLine($(e.target));
          if(tThis.applyToAnotherTable) {
            tThis.drawLine(tThis.$this.find("span[index='"+$(e.target).attr("index")+"']:last"));
          }
        },
        "drag": function(e, ui) {
          if(tThis.applyToAnotherTable) {
            var fixNumber = 0;
            if(ui.position.left - ui.originalPosition.left < 0) {
              fixNumber = -1;
            } else {
              fixNumber = 1;
            }
            tThis.$this.find("span[index='"+$(e.target).attr("index")+"']:last").css("left", parseInt($(e.target).css("left"), 10) + fixNumber);
          }
        },
        "stop": function(e, ui) {
          tThis.currentMoveLength = ui.position.left - ui.originalPosition.left;
          tThis.changeTdWidth(e);
          $(e.target).css("left", ui.originalPosition.left);
          tThis.removeLine($(e.target));
          if(tThis.applyToAnotherTable) {
            tThis.removeLine(tThis.$this.find("span[index='"+$(e.target).attr("index")+"']:last"));
          }
        }
      });
{% endhighlight %}

[Github地址][8]  
[代码下载][9]
[8]: https://github.com/Mystist/tdWider
[9]: https://github.com/Mystist/tdWider/archive/master.zip

<hr />

`theadFixer` (2013-04)  
提示：滚动表格的时候，表头会固定住。  

<iframe frameborder="0" scrolling="no" src="liber/theadFixer/demo.html" width="100%" height="400px;" ></iframe>

代码片段：  

{% highlight javascript %}
    option: function(optionName, optionValue) {
      if(optionName&&optionValue) {
        this[0].settings[optionName] = optionValue;
      } else if(optionName) {
        if(typeof optionName == "object") {
          for(var propName in optionName) {
            this[0].settings[propName] = optionName[propName];
          }
        } else {
          return this[0].settings[optionName];
        }
      } else {
        return this[0].settings;
      }
    },
{% endhighlight %}

[Github地址][6]  
[代码下载][7]
[6]: https://github.com/Mystist/theadFixer
[7]: https://github.com/Mystist/theadFixer/archive/master.zip

<hr />

`inputTip` (2012-12)  
提示：试试输入一个`s`然后滚动到底部。  

<iframe frameborder="0" scrolling="no" src="liber/inputTip/demo.html" width="100%" height="400px;" ></iframe>

代码片段：  

{% highlight javascript %}
      if(filteredItemList.length!=0) {
        for(var i=0; i< st.maxItemNumber; i++) {
          if(filteredItemList[0]) {
            toDoItemList.push(filteredItemList[0]);
            filteredItemList.shift();
          }
        }
      }
      
      $this.append(getTipDivHtml($this, toDoItemList, st));
      setTipStyle($this, st);
      
      st.tipIsShowing();
      
      $this.find(st.scrollTarget).unbind().scroll(function() {
        
        if( $(this).scrollTop()+100 >=$this.find("table:last").height()-$(this).height() ) {
          toDoItemList = [];
          for(var i=0; i< st.maxItemNumber; i++){
            if(filteredItemList[0]) {
              toDoItemList.push(filteredItemList[0]);
              filteredItemList.shift();
            }
          }
          if(toDoItemList.length>0) {
            $this.find(".tipDiv table:last tbody").append(getTrByList($this, toDoItemList, st));
          }
        }
        
      });
{% endhighlight %}

[Github地址][4]  
[代码下载][5]
[4]: https://github.com/Mystist/inputTip
[5]: https://github.com/Mystist/inputTip/archive/master.zip

<hr />

`Timetrack` (2012-11)  
提示：左右拖动、添加/查看事件、放大、缩小等等。  

<iframe frameborder="0" scrolling="no" src="liber/timetrack/page/timetrack.html" width="100%" height="400px;" ></iframe>

代码片段：  

{% highlight javascript %}
  function getNumbersByDateType(startTime, endTime, type) {
    var stime = formatDateTime(startTime, type, "Date");
    var etime = formatDateTime(endTime, type, "Date");
    var curTime = new Date( stime.valueOf() );
    var numbers = 0;
    while( curTime < etime ) {
      numbers++;
      curTime = addNByDateType(curTime, type);
    }
    return	numbers;
  }
  
  function addNByDateType(time, type) {
    var n = 1;
    if(arguments[2]!==undefined) {
      n=arguments[2];
    }
    if(type==="hour") {
      time.setHours( time.getHours() + n );
    } else if(type==="day") {
      time.setDate( time.getDate() + n );
    } else if(type==="month") {
      time.setMonth( time.getMonth() + n );
    } else if(type==="year") {
      time.setFullYear( time.getFullYear() + n );
    }
    return time;
  }
{% endhighlight %}

[Github地址][2]  
[代码下载][3]
[2]: https://github.com/Mystist/timetrack
[3]: https://github.com/Mystist/timetrack/archive/master.zip

